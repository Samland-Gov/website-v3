{% extends "samland_govuk/template.njk" %}

{# Import only the GOV.UK Frontend component macros we use #}
{% from "govuk/components/button/macro.njk" import govukButton %}

{% block pageTitle %}Samland GOV{% endblock %}

{% block afterMain %}
<div class="app-masthead">
  <div class="govuk-width-container">
    <div class="govuk-main-wrapper">
      <div class="govuk-grid-row">
        <div class="govuk-grid-column-two-thirds">
          <h1 class="govuk-heading-xl app-inverse">Samland Government</h1>
          <p class="govuk-body-lead app-inverse">A Minecraft‑based political simulation.</p>
          <p class="govuk-body-lead app-inverse">Explore simulated institutions, policy experiments, and server documentation.</p>
          {{ govukButton({
            text: 'Join the simulation',
            href: '/join',
            classes: "govuk-button--inverse",
            isStartButton: true
          }) }}
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}

{% block content %}
  <div class="govuk-grid-row">
    <h2 class="govuk-heading-m govuk-!-margin-top-8">Featured articles</h2>
    <div class="govuk-grid-row govuk-!-margin-bottom-7">
      {% set entries = getContentEntries("articles") %}

      {% for post in entries %}
        <div class="govuk-grid-column-one-third govuk-!-margin-bottom-4">
          <div class="govuk-!-padding-2 govuk-panel govuk-!-margin-bottom-0" style="background:#f8f8f8;">
            <p class="govuk-!-margin-bottom-1 govuk-hint">{{ post.articleCategory }}</p>
            <h3 class="govuk-heading-s govuk-!-margin-bottom-2"><a class="govuk-link" href="{{ post.slug }}">{{ post.articleTitle }}</a></h3>
            <p class="govuk-body-s govuk-!-margin-bottom-0">{{ post.articleDescription }}</p>
          </div>
        </div>
      {% endfor %}
    </div>

    {# New useful sections below — single stacked column for readability #}
    <div class="govuk-grid-row govuk-!-margin-top-6">
      <div class="govuk-grid-column-two-thirds govuk-!-margin-bottom-4">
        <h2 class="govuk-heading-m">Getting started</h2>
        <p class="govuk-body">New to the simulation? Start here to get a server account, set up your Minecraft client, and find basic orientation materials.</p>
        <ul class="govuk-list govuk-list--bullet">
          <li>Create an account on the server by visiting <a class="govuk-link" href="/join">Join the simulation</a>.</li>
          <li>Read the quick-start guide for recommended client settings and resource packs.</li>
          <li>Check the server status and scheduled maintenance on the documentation page.</li>
        </ul>

        <h2 class="govuk-heading-m govuk-!-margin-top-5">How to join</h2>
        <p class="govuk-body">Joining is handled through the site's registration flow. Once registered, follow the in-game orientation steps and the starter checklist to get settled.</p>
        {{ govukButton({ text: 'Join the simulation', href: '/join', classes: 'govuk-button--start' }) }}

        <h2 class="govuk-heading-m govuk-!-margin-top-5">Roles &amp; institutions</h2>
        <p class="govuk-body">Samland runs a set of simulated institutions and roles designed for gameplay and experimentation. These include administrative roles, advisory bodies, and procedural groups that follow the simulation's rules.</p>
        <p class="govuk-body">Each role has a clear remit and responsibilities; consult the role descriptions in the documentation before applying or taking part.</p>

        <h2 class="govuk-heading-m govuk-!-margin-top-5">Server rules</h2>
        <div class="govuk-panel govuk-!-padding-2" style="background:#f2f2f2;">
          <ul class="govuk-list govuk-list--bullet govuk-!-margin-bottom-0">
            <li>Play fair: respect other players and in-game assets.</li>
            <li>No griefing or theft. Intentional sabotage is not allowed.</li>
            <li>Keep out-of-game disputes off the server; use the contact pages.</li>
            <li>Follow any additional rules set by role holders or server staff.</li>
          </ul>
        </div>

        <h2 class="govuk-heading-m govuk-!-margin-top-5">Documentation</h2>
        <p class="govuk-body">Full technical docs, rules, and guides are available in the documentation section. You can browse policy simulations, server admin notes, and how-to guides.</p>
        <p><a class="govuk-link" href="/docs">View documentation</a></p>

        <h2 class="govuk-heading-m govuk-!-margin-top-5">Contribute or report an issue</h2>
        <p class="govuk-body">If you find a bug or have a suggestion for content, please report it via the site's contribution page so maintainers can triage it.</p>
        <p><a class="govuk-link" href="/contribute">Contribute / report</a></p>
      </div>
    </div>
  </div>
{% endblock %}

{% block bodyEnd %}
  {# Run JavaScript at end of the <body>, to avoid blocking the initial render. #}
  <script type="module" src="/public/govuk-frontend.min.js"></script>
  <script type="module">
    import { initAll } from '/public/govuk-frontend.min.js'
    initAll()
  </script>
{% endblock %}